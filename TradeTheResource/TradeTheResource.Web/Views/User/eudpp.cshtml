@model TradeTheResource.Models.UserEntity

<style>

    table{
        border-collapse:collapse;
        
    }
    tr {
    border-bottom:1px solid #958f8f;
    }
    table,input,select{

        font-size:24px;
    }
    select, option {
        text-align: center;
        text-align-last: center;
    }
</style>

<style>

    td{
        width:450px;
        text-align:left;

    }
    label{

        text-align:right;
        width:23%;
        margin-right:20px;
        display:inline-block;
    }
    input,select {
    
    width:200px;
    display:inline;
    }
</style>
<form action="/User/EditUserData" method="post" id="frm" style="margin-top:20px;">

    <table>
        <tr>

            <td>
                @Html.Label(
           @Html.DisplayNameFor(u => u.Account).ToHtmlString()
           )

                @Html.TextBoxFor((u => u.Account), new { @readonly = "readonly", name = "Account" })

                <a href="/User/ModifyPwd" id="modifyPwd">修改密码</a>
            </td>
        </tr>
        <tr>

            <td>
                @Html.Label(
           @Html.DisplayNameFor(u => u.ShowName).ToHtmlString()
           ) @Html.TextBoxFor((u => u.ShowName), new { name = "ShowName" })
    </td>
    <tr>

        <td>
            @Html.Label(
       @Html.DisplayNameFor(u => u.Email).ToHtmlString()
       ) @Html.TextBoxFor((u => u.Email), new { name = "Email" })
    </td>
    </tr>
    <tr>

        <td>
            @Html.Label(
       @Html.DisplayNameFor(u => u.QQ).ToHtmlString()
       ) @Html.TextBoxFor((u => u.QQ), new { name = "QQ" })
    </td>
    </tr>
    <tr>

        <td>
            @Html.Label(
       @Html.DisplayNameFor(u => u.Phone).ToHtmlString()
       ) @Html.TextBoxFor((u => u.Phone), new { name = "Phone" })
    </td>
    </tr>
    <tr>

        <td>
            @Html.Label(
       @Html.DisplayNameFor(u => u.PaymentMethods).ToHtmlString()
       ) @Html.DropDownList("PaymentMethods", null, new { id = "pmMethods" })
    </td>
    </tr>

    <tr>

        <td style="text-align:center;"><input style="width:initial;" type="button" id="btn" value="修改" /></td>
    </tr>
    </table>


</form>

<script>
    $(function () {

        //提交表单
        $("#btn").click(function () {

            let frmData = $("#frm").serialize();
            //alert(frmData);

            //let pmethods = $("#pmMethods").select().val();
            //alert(pmethods);

            $.post("/User/EditUserData", frmData, function (msg) {
                if (msg == "ok") {

                    alert("修改成功");

                }
                else {
                    alert("修改失败");
                }

                //操作，刷新改页面
                $("#leftBar>ul>li>a[href='/User/EditUserData']").click();

            });


        });


        //修改密码
        $("#modifyPwd").click(function () {

            alert("修改密码");
            return false;
        });

    });
 


</script>

